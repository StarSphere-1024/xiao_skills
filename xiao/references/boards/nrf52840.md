# XIAO nRF52840 / nRF52840 Sense Reference

**Chipset**: nRF52840 (ARM Cortex-M4F 64MHz)
**Wireless**: BLE 5.0, NFC
**Flash**: 1MB
**RAM**: 256KB

## Pin Definitions

| Pin | nRF Pin | Arduino | Functions | Notes |
|-----|---------|---------|-----------|-------|
| D0 | P0.02 | D0 | ADC0 | Analog input |
| D1 | P0.03 | D1 | ADC1 | Analog input |
| D2 | P0.28 | D2 | ADC2 | Analog input, Sense: Mic CLK |
| D3 | P0.29 | D3 | ADC3 | Analog input, Sense: Mic DATA |
| D4 | P0.04 | D4 | I2C SDA | Default I2C SDA (XIAO standard) |
| D5 | P0.05 | D5 | I2C SCL | Default I2C SCL (XIAO standard) |
| D6 | P1.11 | D6 | UART TX | Default UART TX (XIAO standard) |
| D7 | P1.12 | D7 | UART RX | Default UART RX (XIAO standard) |
| D8 | P1.13 | D8 | SPI SCK | Default SPI SCK (XIAO standard) |
| D9 | P1.14 | D9 | SPI MISO | Default SPI MISO (XIAO standard) |
| D10 | P1.15 | D10 | SPI MOSI | Default SPI MOSI (XIAO standard) |
| D11 | P0.26 | D11 | GPIO | - |
| D12 | P0.06 | D12 | GPIO | - |
| D13 | P0.30 | D13 | GPIO | - |
| D14 | P0.14 | D14 | GPIO | - |

## XIAO Standard Peripheral Mapping

All XIAO boards follow a unified peripheral pin mapping for expansion board compatibility:

| Interface | Pin | nRF Pin |
|-----------|-----|---------|
| **I2C SDA** | D4 | P0.04 |
| **I2C SCL** | D5 | P0.05 |
| **UART TX** | D6 | P1.11 |
| **UART RX** | D7 | P1.12 |
| **SPI SCK** | D8 | P1.13 |
| **SPI MISO** | D9 | P1.14 |
| **SPI MOSI** | D10 | P1.15 |

## ADC

- 4 channels: A0 (P0.02), A1 (P0.03), A2 (P0.28), A3 (P0.29)
- 12-bit resolution (0-4095)
- Range: 0-3.3V

## SWD Debug

- **SWDCLK**: AA24
- **SWDIO**: AC24

## nRF52840 Sense Onboard Peripherals

The nRF52840 Sense version includes additional onboard sensors and peripherals for TinyML and audio applications.

### 6-Axis IMU (LSM6DS3)

Built-in 6-axis inertial measurement unit with 3-axis accelerometer, 3-axis gyroscope, and embedded temperature sensor.

| IMU Interface | XIAO Pin | nRF Pin |
|---------------|----------|---------|
| I2C SDA | D4 | P0.04 |
| I2C SCL | D5 | P0.05 |
| I2C Address | - | 0x6A |

**Sensor**: LSM6DS3 (STMicroelectronics)

**For Arduino usage**: See `/xiao-arduino` - `api/imu-sensor.md` for complete API reference

**Key Features**:
- Accelerometer range: ±2/±4/±8/±16 g
- Gyroscope range: ±125/±245/±500/±1000/±2000 dps
- Temperature sensor: accurate to ±1°C
- FIFO buffer for data logging
- Motion interrupt detection

### PDM Microphone

Built-in PDM (Pulse Density Modulation) microphone for audio capture and TinyML audio applications.

| Microphone Signal | XIAO Pin | nRF Pin |
|-------------------|----------|---------|
| PDM CLK | D2 | P0.28 |
| PDM DATA | D3 | P0.29 |

**Interface**: PDM (Pulse Density Modulation)

**For Arduino usage**: See `/xiao-arduino` - `api/microphone.md` for complete API reference

**Key Features**:
- Sample rate: up to 16 kHz
- 16-bit PCM output
- Mono channel
- Real-time audio capture
- Suitable for voice recognition, audio classification

### NFC (Near Field Communication)

Built-in NFC module for tag emulation and data exchange.

| NFC Signal | nRF Pin | Notes |
|-----------|---------|-------|
| NFC1 | P0.09 | Differential pair - must use together |
| NFC2 | P0.10 | Differential pair - must use together |

**Frequency**: 13.56 MHz

**Requirements**: External NFC antenna (sold separately)

**For Arduino usage**: See `/xiao-arduino` - `api/nfc.md` for complete API reference

**Antenna Specifications**:
- Target impedance: 100 Ω differential
- Resonance at 13.56 MHz
- Tuning capacitors typically 39-68 pF

**Key Features**:
- NFC Forum Type 2 Tag / NDEF format
- Text/URI message support
- Passive tag mode (no power required)
- Read/write capability with NFC-enabled smartphone

## Sense Model Summary

| Feature | Details |
|---------|---------|
| IMU | 6-axis LSM6DS3 (accel + gyro + temp) on I2C |
| Microphone | PDM microphone on D2/D3 |
| NFC | Tag emulation on P0.09/P0.10 (requires antenna) |

## Power

- **Input**: 5V via USB
- **Operating Voltage**: 3.3V
- **System On**: ~5mA
- **System Off**: ~2µA

## Important Notes

- BOOT button for firmware reset
- UF2 bootloader for drag-and-drop programming
- USB native support
- Double-click RESET to enter bootloader

## Platform Support

| Platform | Support |
|----------|---------|
| Arduino | ✅ Full support |
| MicroPython | ✅ Full support |
| ESPHome | ❌ Not supported |

For platform-specific usage:
- **Arduino**: See `/xiao-arduino` skill
- **MicroPython**: See `/xiao-micropython` skill
